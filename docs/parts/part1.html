<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
    <title>Exercise 1: Working with arrays and lists in the REPL</title>
    <link rel="stylesheet" type="text/css" href="./res/styles/normalize.css">
    <link rel="stylesheet" type="text/css" href="./res/styles/prettify.css" />
    <link rel="stylesheet" type="text/css" href="./res/styles/styles.css">
</head>

<body>
    <!-- Use the same title as the StartHere -->
    <header>Data Structures</header>

    <section id="main">

        <h1 id="page-title"></h1>
        <h2>Duration</h2>
        <p>15 minutes</p>

        <h2>Lab Goals</h2>
        <p>The primary goal of this lab will be to start working with <a href="http://msdn.microsoft.com/en-us/library/dd233214.aspx">F# arrays</a> and <a href="http://msdn.microsoft.com/en-us/library/dd233224.aspx">lists</a>, this is a common feature you will use often in F# programming.</p>

        <h1>Steps</h1>

        <h2>Arrays</h2>
        <p>Let's start by working with arrays. Our goal will be to initialize an array, filter out to include just the even numbers, and then display the sum of the even numbers. To do this, we will be taking advantage of some of the <a href="http://msdn.microsoft.com/en-us/library/ee370273.aspx">Array operations</a>.</p>
        <ol>
            <li>Make sure your REPL window is open and has been reset.</li>

            <li>Assign a value to an array with the numbers 0-100 (inclusive).</li>
            <li>Next, use the <code>Array.filter</code> operation to create a new array with just the even numbers, remember this requires a <a href="http://msdn.microsoft.com/en-us/library/dd233201.aspx">predicate function</a> be passed in; check the slides for syntax if you need help.</li>
            <li>Sum the even numbers using the <code>Array.sum</code> operation and output the final value with <code>printfn</code>.
                <div class="hintblock"><strong>Hint:</strong> you can output the value directly from <code>Array.sum</code> in a <code>printfn</code> call, but you will need to use parenthesis to surround the function so it's not treated as a value.</div>
            </li>
        </ol>
<p><a href="#" onclick="toggleCode(this,'arrays');return false;" class="uiitem">Show Code</a>
            <div class="indent-large" id="arrays" style="display:none;">
<pre class="prettyprint">
let nums = [| 0..100 |]
let evens = Array.filter(fun n -> n%2 = 0) nums
printfn "The sum is %i" (Array.sum evens);;
</pre></div></p>

        <h2>Lists</h2>
        <p>
        Next, let's examine lists. Our goal will be to create two separate lists of data and then combine them and average the numbers. Just as we did with arrays, we will be utilizing some of the <a href="http://msdn.microsoft.com/en-us/library/ee353738.aspx">List operations</a>.</p>
        <ol>
            <li>Create a list with the following numbers: 3, 4, 2, 18, 4, 22 and assign it to a value. Create this list directly with the list initializer syntax.</li>
            <li>Create an array with the following numbers: 67, 61, 88, 36, 93, 4 and convert it to a list and assign it to a second value.</li>
            <li>Combine the two lists into a third list (recall there is a special operator to combine lists together).</li>
            <li>Finally, try to average the numbers in the combined list using the <a href="http://msdn.microsoft.com/en-us/library/ee353738.aspx">built in operation in the Collections.List</a> module. Try passing the array as a parameter and then change it to use the pipeline operator.
        </ol>

<p><a href="#" onclick="toggleBlock(this,'hint1','Hint #1', 'Hide Hint');return false;" class="uiitem">Hint #1</a>
            <div class="indent-large" id="hint1" style="display:none;">
<pre class="hintblock">
The average is 33.5
</pre></div></p>

<p><a href="#" onclick="toggleBlock(this,'hint2','Hint #2', 'Hide Hint');return false;" class="uiitem">Hint #2</a>
            <div class="indent-large" id="hint2" style="display:none;">
<pre class="hintblock">
The values you are averaging are all integer. Can you convert it somehow?
</pre></div></p>
            
        
<p><a href="#" onclick="toggleCode(this,'lists');return false;" class="uiitem">Show Code</a>
<div class="indent-large" id="lists" style="display:none;">
<pre class="prettyprint">
let list1 = [ 3; 4; 2; 18; 4; 22 ]
let list2 = Array.toList([| 67; 61; 88; 36; 93; 4 |])
let list3 = list1 @ list2

// First alternative
printfn "The average is %f" (List.averageBy (fun n -> float n) list3);;

// Second alternative
printfn "The average is %f" (List.average (List.map (fun n -> float n) list3));;

// Third alternative - do it by hand
let sum = List.sum list3
printfn "The average is %f" (float sum / float list3.Length);;

// Use the pipeline operator
list3 
  |> List.averageBy (fun n -> float n) 
  |> printfn "The average is %f";;
</pre></div></p>

        <h1>Summary</h1>
        In this lab, we have begun to work with lists and arrays. You've seen how to create both and then how to manipulate the contents using a variety of methods.
        <br />
        <div class="align-right">
            <a href="../Start%20Here.html">Go Back</a>
        </div>
    </section>

    <script src="./res/js/jquery.min.js"></script>
    <script src="./res/js/prettify.js"></script>
    <script src="./res/js/script.js"></script>

    <footer>Copyright (C) 2018 Xamarin Inc., Microsoft.</footer>
</body>
</html>
